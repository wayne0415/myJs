<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <script>
            // 請輸入成績N次，直到輸入{-1}或{取消}就結束
            /*
                第1次分數: 90
                第2次分數: 50
                第3次分數: 60
                第4次分數: 30
                第5次分數: -1
                -------
                及格人數: 2人
                不及格人數: 1人
                總分: 200分
                總平均: 66.67分
            */

            let count = 0; // 第N次
            let pass = 0; // 及格人數
            let fail = 0; // 不及格人數
            let tot = 0; // 總分
            let avg = 0; // 總平均

            while (true) {
                let score = prompt("請輸入分數: ");
                // 是否輸入{-1}或按了{取消}
                if (score === "-1" || score == null) {
                    break;
                }
                // 是否為非數字
                if (isNaN(score)) {
                    alert("非數值，請重新輸入");
                    continue; // 如果是非數字，則不再往下執行，回到迴圈開始時，重新輸入
                }

                score = Number(score); // 字串轉數值
                // 是否為分數有效範圍 => 0 ~ 100
                if (score < 0 || score > 100) {
                    alert(`err! 分數有效範圍=>0~100`);
                    continue;
                }
                // 及格與否
                if (score >= 60) {
                    pass++; // 及格人數累計
                } else {
                    fail++; // 不及格人數累計
                }
                // 總分累計
                tot = tot + score;
                count++; // 執行第N次
                console.log(`第${count}次分數: ${score}`);
            }
            // console.log("結束了");
            console.log("-------------------------");
            console.log(`及格人數: ${pass}人`);
            console.log(`不及格人數: ${fail}人`);
            console.log(`總分: ${tot}人`);
            // 總平均計算
            avg = tot / (pass + fail); // 求平均
            avg = avg.toFixed(2); // 取小數點第二位
            console.log(`總平均: ${avg}人`);
        </script>
    </body>
</html>
